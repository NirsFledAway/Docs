# small_unmanned_aircraft

## Как работает
Основа - файлы Simulink с определенной структурой системы.
Там задаются входные параметры, и через Mux заводятся в блок S-Function. 

В блок передаются стандартные параметры, а также кастомные (определяются в свойствах блока). В базовом случае - структура MAV.

Вообще все основные переменные берутся из общего Workspace. Добавить переменные туда можно несколькими способами:
1. В `Model Explorer` импортировать переменные из нужного .m файла
2. Запустить некоторый скрипт в данной рабочей зоне, который сгенерирует нужные глобальные переменные.

Конфигурация `MAV` задается вторым методом. Вся структура определяется в файле `/parameters/aerosonde_parameters.m`. Чтобы значения заново загружались в Workspace при каждом запуске, необходимо каждый раз запускать этот файл. Для этого у моделей предусмотрен функционал Callbacks (Функции обратного вызова). Каждая из функций набора вызывается в определенный момент жизненного цикла модели.

Для загрузки переменных используется функция `InitFnc*`:
```
addpath('../chap2')
addpath('../parameters/')
aerosonde_parameters
```
Добавляем нужные пути и запускаем исполнение файла с конфигурацией как функцию. Обновленный MAV появляется в workspace.